{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\Users\\practicas\\Downloads\\angular\\tresOnline\\frontend-tres-en-raya\\src\\app\\logging\\logging.component.ts"],"sourcesContent":["import { Component, OnInit, } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Player, Game } from '../models/interfaces.model';\nimport {}\n\n@Component({\n  selector: 'app-logging',\n  templateUrl: './logging.component.html',\n  styleUrls: ['./logging.component.css']\n})\nexport class LoggingComponent implements OnInit{\n  private baseUrl: string = 'http://localhost:3000/';\n  inputNombre: string = '';\n  freeGame: any;\n\n  constructor (private http: HttpClient ){}\n\n  ngOnInit(): void {\n    this.searchForGame().subscribe(freeGame => {\n      this.freeGame = freeGame;\n\n      if (this.freeGame) {\n        console.log('juego libre');\n      } else {\n        console.log('no juego libre');\n      }\n    });\n  }\n\n\n  registroUser(): void{\n    let playerRegistrado: Player;\n    this.insertPlayer(this.inputNombre).subscribe((player: Player) => {\n        localStorage.setItem('player', JSON.stringify(player));\n        playerRegistrado = player;\n        console.log(playerRegistrado);\n\n        this.insertGame(playerRegistrado.id).subscribe((game: Game) => {\n          console.log(game);\n        });\n    });\n\n\n\n\n  }\n\n  insertPlayer(nombre: string) {\n    const nombrePlayer = { nombre: nombre};\n    return this.http.post<Player>(`${this.baseUrl}player/`, nombrePlayer);\n  }\n\n\n  insertGame(playerId: number){\n    const gameData = {\n      board: JSON.stringify([\n        ['', '', ''],\n        ['', '', ''],\n        ['', '', '']\n      ]),\n      status: 0,\n      playerXid: playerId,\n      playerOid: \"\",\n      turn: 'X',\n    }\n    return this.http.post<Game>(`${this.baseUrl}game/`, gameData);\n  }\n\n  searchForGame(): Observable<Game> {\n    return this.http.get<Game[]>(`${this.baseUrl}game/free`);\n  }\n\n\n}\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}